@startuml
'https://plantuml.com/sequence-diagram

actor Client as c
participant ThrirdParty as tp
participant BuyController as co
participant BuyService as s
'participant LicenseController as lc
participant LicenseService as ls
participant License as l
participant Car as ca
participant Products as p
database Database as db

c->tp : doPurchase()
tp->c : returnCompleted(): boolean

c -> co: getMapping(): CustomerID, ProductID, Duration, Vin

co-> s: buy(CustomerID, ProductID, Duration, Vin): void
activate s
's -> ca: setProduct(ProductId, Vin)
'ca -> ls: setService(ServiceID)

s-> ls: createLicenses(Duration, ProductID)
activate ls
ls->p: getServices(ProductID)
p->ls: returnServices(List<Services>)

ls->  l: createLicense(Liste<Services>, Duration)

l->ls: returnLicense(List<License>)
deactivate ls
deactivate s




@enduml